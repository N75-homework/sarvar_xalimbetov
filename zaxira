// add
async function createData(data) {

    await fetch(API, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(data => data.json())

    addData(await data())
}


// new student info

_addForm.addEventListener('submit', (e) => {
    e.preventDefault()

    let {
        name,
        lastname,
        mark
    } = e.target.elements

    let newData = {
        name: name.value,
        lastName: lastname.value,
        markedDate: realDate,
        mark: mark.value,
    }
    createData(newData)
})



_editForm.addEventListener('click', (e) => {
    e.preventDefault()

    let {edit_name, edit_lName, edit_mark} = _editForm
    console.log(edit_name.value, edit_lName.value, edit_mark.value);

    _list.innerHTML = ''
    try {
        
        fetch(API, {
            method: 'PUT',
            body: JSON.stringify({
                name: edit_name,
                lastName: edit_lName,
                mark: edit_mark,
                markedDate: realDate
            }),
            headers: {
                'Content-Type': 'application/json',
            }
        })
        
        return addData(data())
    } catch (error) {
        console.log(error.message);
    }
})